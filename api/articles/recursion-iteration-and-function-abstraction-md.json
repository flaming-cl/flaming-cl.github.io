{"title":"Recursion, Iteration and Abstraction from SICP","uid":"db38fc973daee4dda97824ebfb5c0041","slug":"recursion-iteration-and-function-abstraction-md","date":"2023-03-26T23:45:35.000Z","updated":"2023-03-29T03:38:59.508Z","comments":true,"path":"api/articles/recursion-iteration-and-function-abstraction-md.json","keywords":null,"cover":[],"content":"<p>I‚Äôve recently been reading SICP, a book about programming philosophy. I just finished the 1st chapter yesterday and wanted to share some of my thoughts and insights.</p>\n<p>The main points in the 1st chapter that got me thinking were:</p>\n<ol>\n<li>Difference between Recursion and iteration</li>\n<li>How to abstract a function to make it more extensible and reusable</li>\n</ol>\n<h2 id=\"Recursive-or-Iterative-Processes\"><a href=\"#Recursive-or-Iterative-Processes\" class=\"headerlink\" title=\"Recursive or Iterative Processes\"></a>Recursive or Iterative Processes</h2><p>To make it easier to understand, I‚Äôll start by discussing a topic that many frontend developers are familiar with ‚Äì React.</p>\n<h3 id=\"Recursive-Process\"><a href=\"#Recursive-Process\" class=\"headerlink\" title=\"Recursive Process\"></a>Recursive Process</h3><p>The diff algorithm in React prior to version 16 is a prime example of a recursive process.</p>\n<p><strong>Diff Algorithm</strong>: To identify the changes in the Virtual DOM, React starts at the root node and recursively traverses the tree. This process consists of expansion and contraction phases.</p>\n<h4 id=\"Expansion-beginWork\"><a href=\"#Expansion-beginWork\" class=\"headerlink\" title=\"Expansion (beginWork)\"></a>Expansion (beginWork)</h4><p>In the expansion phase, we traverse the virtual DOM tree from the root node, exploring child nodes step by step.</p>\n<h4 id=\"Contraction-completeWork\"><a href=\"#Contraction-completeWork\" class=\"headerlink\" title=\"Contraction (completeWork)\"></a>Contraction (completeWork)</h4><p>During contraction, we return to the parent node after traversing all child nodes, then proceed to a sibling or parent‚Äôs parent.</p>\n<h4 id=\"A-Story-to-Help-You-Visualize-the-Process\"><a href=\"#A-Story-to-Help-You-Visualize-the-Process\" class=\"headerlink\" title=\"A Story to Help You Visualize the Process\"></a>A Story to Help You Visualize the Process</h4><p>If the above explanation is still a bit unfamiliar to you, let me tell a story to help you visualize the process:</p>\n<p><img src=\"https://user-images.githubusercontent.com/51183663/227833411-f0bd9fd7-5451-4deb-b5fe-1c08484c4091.png\" alt=\"image_treasure_hunt\"></p>\n<ul>\n<li>You‚Äôre playing a game where an unknown number of treasures are hidden within an underground maze‚Äôs various rooms. </li>\n<li>Without a map, you venture deeper into each room to explore. </li>\n<li>At dead-ends, you backtrack to the nearest fork until you eventually return to the maze‚Äôs entrance to end the game.</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/51183663/227833542-14ab3954-389c-4c8b-a3a4-8e7ea0ab303c.png\" alt=\"image_treasure_hunt_rooms\"></p>\n<p>In this context, delving into deeper rooms symbolizes an expanding process, akin to exploring new territories. Conversely, backtracking from dead-ends represents a contracting process.</p>\n<h4 id=\"Unaware-of-Overall-Gain\"><a href=\"#Unaware-of-Overall-Gain\" class=\"headerlink\" title=\"Unaware of Overall Gain\"></a>Unaware of Overall Gain</h4><p>Now let us discuss another feature of recursion: <strong>before completing the entire recursive process, we are unaware of the overall results, as we only focus on local problems.</strong> </p>\n<p>Going back to the treasure hunting story.<br>While exploring the maze, you are given a magical pocket to conceal all the treasures collected. Only upon completing the adventure, the pocket reveals your accumulated riches. </p>\n<p>In this case, the uncertainty of your treasure hunting gains mirrors the ambiguity of progress in recursion, where a clear result emerges only upon task completion.</p>\n<h4 id=\"Uninterruptible\"><a href=\"#Uninterruptible\" class=\"headerlink\" title=\"Uninterruptible\"></a>Uninterruptible</h4><p><strong>Another problem with recursion is that it is hard to be interrupted and resumed.</strong></p>\n<p>Recursion can be difficult to interrupt and resume, making it hard to pause a task or prioritize more urgent tasks. To make an expandable and contractible process interruptible, we need to combine recursive and iterative processes.</p>\n<h3 id=\"Iterative-Process\"><a href=\"#Iterative-Process\" class=\"headerlink\" title=\"Iterative Process\"></a>Iterative Process</h3><p>Iterative processes are repeatable and build upon previous results, allowing for interruptions, resumptions, and data recording for continuity.</p>\n<p>Since React version 16, iteration has been using to traverse the DOM tree through a conditional loop. This enables prioritized tasks to interrupt and later resume the diff process using stored data. Also, it maintains expandable and contractible approaches to traverse a Fiber tree for detecting changes.</p>\n<h2 id=\"Function-Abstraction\"><a href=\"#Function-Abstraction\" class=\"headerlink\" title=\"Function Abstraction\"></a>Function Abstraction</h2><p>I think the most interesting part of this chapter is function abstraction.</p>\n<p>To explore the beauty of it, let‚Äôs start with a simple example, and gradually improve it upon small initiatives. </p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Create a composite function that takes a number as input, and returns the cube of the number after adding 1.</p></blockquote>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>Here, repeatedly having <code>x + 1</code> does not sound good. So let‚Äôs abstract it into a function. </p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"Higher-order-Function\"><a href=\"#Higher-order-Function\" class=\"headerlink\" title=\"Higher-order Function\"></a>Higher-order Function</h3><p>Right now, though our code looks a bit better, we are still repeating <code>inc</code> 3 times. To improve this, let‚Äôs pass <code>inc</code> as a parameter of <code>cube</code>, to make <code>cube</code> a higher-order function and avoid repetitiveness. By using a higher-order function in this case, we can create a more flexible and maintainable solution.</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">cube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">*</span> x <span class=\"token operator\">*</span> x<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">cube</span><span class=\"token punctuation\">(</span><span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>You might feel like it doesn‚Äôt make any difference. But don‚Äôt worry, the process of iterative improvement often starts with small steps that may seem trivial. By continuously refining our code, we can achieve more extensible and reusable solutions.</p>\n<h3 id=\"Recursion\"><a href=\"#Recursion\" class=\"headerlink\" title=\"Recursion\"></a>Recursion</h3><p>You might feel that the <code>cube</code> function does not appear very extensible: what if the requirement changes to multiplying a number by itself 999 times?</p>\n<p>To make the cube function more extensible, we can create a recursive <code>repeat</code> function which accepts a parameter representing the number of repetitions.</p>\n<h4 id=\"Expansion\"><a href=\"#Expansion\" class=\"headerlink\" title=\"Expansion\"></a>Expansion</h4><p><strong>Let‚Äôs think about this question: what will happen if we use <code>repeat</code> to multiply a number by itself 999 times?</strong><br>We will first come to the expansion phase, as it will generate a massive expression involving 999 multiplication operations gradually. For example, <code>x * x</code> for once, <code>(x * x) * x</code> for twice.</p>\n<h4 id=\"Contraction\"><a href=\"#Contraction\" class=\"headerlink\" title=\"Contraction\"></a>Contraction</h4><p>After finished the expansion phase, we start to shrink the large expression to a single number. We can do this by having <code>(result of each multiplication) * (next number)</code>.</p>\n<p>With a clear understanding of expansion and contraction phases, now we can write a recursive <code>repeat</code> function to achieve greater flexibility and extensibility.</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">repeat</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> n</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">cube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">cube</span><span class=\"token punctuation\">(</span><span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Explanation-with-Code\"><a href=\"#Explanation-with-Code\" class=\"headerlink\" title=\"Explanation with Code\"></a>Explanation with Code</h4><ul>\n<li><strong>Expansion phase</strong>: The <code>repeat</code> function, when called with <code>x</code> and <code>n</code>, will recursively call itself until <code>n</code> is reduced to <code>0</code>. During this process, it creates an expression that multiplies <code>x</code> by itself <code>n</code> times, e.g., <code>x * x</code> for once, <code>(x * x) * x</code> for twice, and so on.</li>\n<li><strong>Contraction phase</strong>: When <code>n</code> reaches <code>0</code>, the base case is met, and the recursion starts unwinding. As it returns from each recursive call, it contracts the expression by successively multiplying the result of each multiplication by the next number. Eventually, it arrives at the final result, which is <code>x</code> multiplied by itself <code>n</code> times.</li>\n</ul>\n<h4 id=\"Explanation-with-Inception\"><a href=\"#Explanation-with-Inception\" class=\"headerlink\" title=\"Explanation with Inception\"></a>Explanation with Inception</h4><p>If you want a more intuitive understanding of this process, think of the movie Inception.</p>\n<ul>\n<li><strong>Expansion</strong>: main characters delves deeper into dreams, layer by layer.</li>\n<li><strong>Base case met</strong>: at the moment the mission is completed, the base case is reached.</li>\n<li><strong>Contraction</strong>: everyone employs a ‚Äòkick‚Äô to sequentially fall through dream layers, ultimately returning to reality (layer 0).</li>\n</ul>\n<p>Now we have successfully abstracted the <code>cube</code> function and made it more extensible. üéâüéâ</p>\n<h3 id=\"Currying\"><a href=\"#Currying\" class=\"headerlink\" title=\"Currying\"></a>Currying</h3><p>Wait, are we finished? It seems like we haven‚Äôt seen any cool techniques yet. For example, where is currying?</p>\n<p>We definitely can incorporate currying to our existing code. First, let‚Äôs try a simple currying by making <code>incAndCube</code> returns a function.</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">cube</span><span class=\"token punctuation\">(</span><span class=\"token function\">inc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>Now, we incorporated currying in <code>incAndCube</code>. But sorry that this currying doesn‚Äôt do anything practical in the first step, nor does it store any temporary variables. It is just for the sake of experiencing the cool currying technique.</p>\n<p>ü§î How about we try to split <code>incAndCube</code> into 2 steps? </p>\n<ul>\n<li>The 1st step is to obtain the function expression for the entire calculation of <code>x</code>.</li>\n<li>The 2nd step is to substitute x with a value.</li>\n</ul>\n<h3 id=\"Function-Composition\"><a href=\"#Function-Composition\" class=\"headerlink\" title=\"Function Composition\"></a>Function Composition</h3><p>For the 1st step, we need to write a function to compose the <code>inc</code> and <code>cube</code> functions.<br>Its input is two functions, and its output is the combination of these two functions.</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compose</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">g<span class=\"token punctuation\">,</span> h</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">g</span><span class=\"token punctuation\">(</span><span class=\"token function\">h</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>The above code means that we first calculate <code>h</code>, then calculate <code>g</code>.<br>So we can write the <code>incAndCube</code> function like below, as we need to first calculate <code>inc</code> and then calculate <code>cube</code>.</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> composedFunc <span class=\"token operator\">=</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>cube<span class=\"token punctuation\">,</span> inc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">composedFunc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>üåá Now, we finished it! Here is the complete code:</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">inc</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> x <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">repeat</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x<span class=\"token punctuation\">,</span> n</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>n <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">&#125;</span>\n  <span class=\"token keyword\">return</span> x <span class=\"token operator\">*</span> <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> n <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">cube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">x</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">repeat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compose</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">g<span class=\"token punctuation\">,</span> h</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">g</span><span class=\"token punctuation\">(</span><span class=\"token function\">h</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">incAndCube</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n  <span class=\"token keyword\">const</span> composedFunc <span class=\"token operator\">=</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span>cube<span class=\"token punctuation\">,</span> inc<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token parameter\">x</span> <span class=\"token operator\">=></span> <span class=\"token function\">composedFunc</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">incAndCube</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"Sing-a-Different-Tune\"><a href=\"#Sing-a-Different-Tune\" class=\"headerlink\" title=\"Sing a Different Tune\"></a>Sing a Different Tune</h3><p>Functional programming offers advantages in some cases, but it‚Äôs not always the best solution for every situation.</p>\n<p>The original, straightforward definition of incAndCube with three <code>x + 1</code> multiplications is already simple and easy to understand. In cases where reusability and extensibility aren‚Äôt required, this approach saves programming time and remains clear to other developers.</p>\n<p>However, in large-scale projects with possible shifting requirements, single-purpose and straightforward functions prove more robust. Consider our basic <code>inc</code> function: if its logic changed from <code>x + 1</code> to <code>x + 2</code>, we‚Äôd have to modify the original code in three places. If the function were more much complex than <code>inc</code>, multiple updates may introduce unforeseen problems.</p>\n<p>In conclusion, each programming method has its strengths. While functional programming might seem more advanced, it‚Äôs not a one-size-fits-all solution. It‚Äôs essential to choose the appropriate approach based on the specific situation and project requirements.</p>\n","feature":true,"text":"I‚Äôve recently been reading SICP, a book about programming philosophy. I just finished the 1st chapter yesterday and wanted to share some of ...","link":"","photos":[],"count_time":{"symbolsCount":"9.3k","symbolsTime":"8 mins."},"categories":[],"tags":[{"name":"Functional-Programming","slug":"Functional-Programming","count":2,"path":"api/tags/Functional-Programming.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Recursive-or-Iterative-Processes\"><span class=\"toc-text\">Recursive or Iterative Processes</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Recursive-Process\"><span class=\"toc-text\">Recursive Process</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Expansion-beginWork\"><span class=\"toc-text\">Expansion (beginWork)</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Contraction-completeWork\"><span class=\"toc-text\">Contraction (completeWork)</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#A-Story-to-Help-You-Visualize-the-Process\"><span class=\"toc-text\">A Story to Help You Visualize the Process</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Unaware-of-Overall-Gain\"><span class=\"toc-text\">Unaware of Overall Gain</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Uninterruptible\"><span class=\"toc-text\">Uninterruptible</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Iterative-Process\"><span class=\"toc-text\">Iterative Process</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Function-Abstraction\"><span class=\"toc-text\">Function Abstraction</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Higher-order-Function\"><span class=\"toc-text\">Higher-order Function</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Recursion\"><span class=\"toc-text\">Recursion</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Expansion\"><span class=\"toc-text\">Expansion</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Contraction\"><span class=\"toc-text\">Contraction</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Explanation-with-Code\"><span class=\"toc-text\">Explanation with Code</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#Explanation-with-Inception\"><span class=\"toc-text\">Explanation with Inception</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Currying\"><span class=\"toc-text\">Currying</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Function-Composition\"><span class=\"toc-text\">Function Composition</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Sing-a-Different-Tune\"><span class=\"toc-text\">Sing a Different Tune</span></a></li></ol></li></ol>","author":{"name":"flaming-cl","slug":"flaming-cl","avatar":"https://avatars.githubusercontent.com/u/51183663?s=400&u=7addc16053694c5fa5d328409bb44dc2d4d18e4a&v=4","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Data Abstraction from SICP","uid":"663764549142bb4876ce625b417bf9d8","slug":"SICP-2-data-abstraction","date":"2023-03-28T00:14:53.000Z","updated":"2023-04-04T02:43:35.773Z","comments":true,"path":"api/articles/SICP-2-data-abstraction.json","keywords":null,"cover":[],"text":"Data AbstractionIn functional programming, data abstraction is a technique that uses functions to hide the details of data structures, and p...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"Functional-Programming","slug":"Functional-Programming","count":2,"path":"api/tags/Functional-Programming.json"}],"author":{"name":"flaming-cl","slug":"flaming-cl","avatar":"https://avatars.githubusercontent.com/u/51183663?s=400&u=7addc16053694c5fa5d328409bb44dc2d4d18e4a&v=4","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"Demystifying Closures through Narratives","uid":"a761733a063b8acf880e89f595a40e38","slug":"closure_stories","date":"2023-03-03T01:30:37.000Z","updated":"2023-04-01T02:30:17.068Z","comments":true,"path":"api/articles/closure_stories.json","keywords":null,"cover":[],"text":"Before I explain the concept of closure, let me share a story with you. The word ‚Äúclosure‚Äù evokes a tender memory of my visit to Manchester ...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","count":2,"path":"api/tags/JavaScript.json"}],"author":{"name":"flaming-cl","slug":"flaming-cl","avatar":"https://avatars.githubusercontent.com/u/51183663?s=400&u=7addc16053694c5fa5d328409bb44dc2d4d18e4a&v=4","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}